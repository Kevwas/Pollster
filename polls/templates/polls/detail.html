{% extends 'base.html' %}
{% block content %}
<a class="btn btn-secondary btn-sm mb-3" href="{% url 'polls:index' %}">Back To Polls</a>
<h1 class="text-center mb-3">{{ question.question_text }}</h1>

{% if error_message %}
<p class="alert alert-danger">
	<strong>{{ error_message }}</strong>
</p>
{% endif %}

<form action="{% url 'polls:vote' question.id %}" method="post">
	{% csrf_token %} 
	{% for choice in question.choice_set.all %}
		<div class="form-check">
			<input
				type="radio"
				name="choice"
				class="form-check-input"
				id="choice{{ forloop.counter }}"
				value="{{ choice.id }}"
			/>
			<label for="choice{{ forloop.counter }}">{{ choice.choice_text }}</label
			>
		</div>
	{% endfor %}
	<input type="submit" value="Vote" class="btn btn-success btn-lg btn-block mt-4" />
</form>
{% endblock %}

{% comment %} <!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Details for question {{ question.id }}</title>
  </head>
  <body>
    <h1>{{ question.question_text }}</h1>
    {% if error_message %}
      <p>
        <strong>{{ error_message }}</strong>
      </p>
    {% endif %}
    <form action="{% url 'polls:vote' question.id %}" method="post">
      <!--
      Since we’re creating a POST form (which can have the effect of modifying
      data), we need to worry about Cross Site Request Forgeries. Thankfully,
      you don’t have to worry too hard, because Django comes with a helpful
      system for protecting against it. In short, all POST forms that are
      targeted at internal URLs should use the {% csrf_token %} template tag.
      -->
      {% csrf_token %}
      {% for choice in question.choice_set.all %}
        <input
          type="radio"
          name="choice"
          id="choice{{ forloop.counter }}"
          value="{{ choice.id }}"
        >
        <label for="choice{{ forloop.counter }}">
          {{ choice.choice_text}}
        </label>
        <br>
      {% endfor %}
      <input type="submit" value="Vote" />
    </form>

    <!-- {#
    <ul>
      {% for choice in question.choice_set.all %}
        <li>
          {{ choice.choice_text }}
        </li>
      {% endfor %}
    </ul>
    #} -->
  </body>
</html> {% endcomment %}
